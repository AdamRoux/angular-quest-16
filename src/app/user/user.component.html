<form [formGroup]="userForm" (ngSubmit)='onSubmit()'>
    <div>
        <div>
            <label>
                Username:
                <input type="text" formControlName="username" />
                <!-- Message d'erreur si le format n'est pas valide --->
                <div *ngIf="userForm.controls['username'].errors && !userForm.controls['username'].pristine"
                    class="error-msg">
                    <div [hidden]="!userForm.controls['username'].errors.required">username is required.</div>
                    <div [hidden]="!userForm.controls['username'].invalid">username is invalid.</div>
                </div>
            </label>
        </div>
        <div formGroupName='credentials'>
            <div>
                <label>
                    Email:
                    <input type="email" formControlName="email" />
                    {{ userForm.get('credentials.email')?.errors?.email.rules }}
                    <div *ngIf="userForm.get('credentials.email')?.errors && !userForm.get('credentials.email')?.pristine"
                        class="error-msg">
                        <div [hidden]="!userForm.get('credentials.email')?.errors?.required">email is required.
                        </div>
                        <div [hidden]="!userForm.get('credentials.email')?.invalid">email is invalid.</div>
                    </div>
                </label>
            </div>
            <div>
                <label>
                    Password:
                    <input type="password" formControlName="password" />
                    {{ userForm.get('credentials.password')?.errors?.password.rules }}
                    <div *ngIf="userForm.get('credentials.password')?.errors && !userForm.get('credentials.password')?.pristine"
                        class="error-msg">
                        <div [hidden]="!userForm.get('credentials.password')?.errors?.required">password is required.
                        </div>
                        <div [hidden]="!userForm.get('credentials.password')?.invalid">password is invalid.</div>
                    </div>
                </label>
            </div>
        </div>

        <label>
            <!-- address est le nom du FormGroup imbriqué -->
            <div>
                <div formGroupName="address">
                    <div>
                        <label>
                            Street:
                            <!--
                     "street" correspond à la propriété street du FormGroup address
                     contenu dans le FormGroup userForm
                -->
                            <input type="text" formControlName="street" />
                        </label>
                    </div>

                    <div>
                        <label>
                            City:
                            <!--
                     "city" correspond à la propriété city du FormGroup address
                     contenu dans le FormGroup userForm
                -->
                            <input type="text" formControlName="city" />
                        </label>
                    </div>

                    <div>
                        <label>
                            Zip code:
                            <!--
                     "zipCode" correspond à la propriété zipCode du FormGroup address
                     contenu dans le FormGroup userForm
                -->
                            <input type="text" formControlName="zip" />
                        </label>
                    </div>
                </div>
                <button type="submit">Inscription</button>